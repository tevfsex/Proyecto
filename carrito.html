<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venta de Camisas Personalizadas</title>
    <style>
        /* El CSS sigue siendo el mismo... */
    </style>
</head>
<body>

    <button class="menu-btn" onclick="toggleMenu()">Menú</button>
    <button class="cart-btn" onclick="goToCart()">🛒 <span id="cart-count" class="cart-badge">0</span></button>

    <div class="menu" id="menu">
        <a href="carrito.html">
            <span>🛒</span> Carrito
        </a>
        <a href="#personalizadas">
            <span>❤️</span> Personalizadas
        </a>
        <a href="#perfil">
            <span>👤</span> Perfil
        </a>
        <a href="#favoritos">
            <span>⭐</span> Favoritos
        </a>
    </div>

    <section id="inicio">
        <header>
            <h1>Venta de Camisas Personalizadas</h1>
        </header>
        <h2>Camisas Personalizadas</h2>
        <div class="product">
            <img src="https://raw.githubusercontent.com/tevfsex/Proyecto/refs/heads/main/Blanca002_001_1.jpg" alt="Camisa Blanca Personalizada">
            <h3>Camisa Blanca Personalizada</h3>
            <p>¡Elige tu diseño! Personaliza con corazones, nombres y más.</p>
            <div class="product-buttons">
                <button onclick="window.location.href='pagina_de_personalizacion.html'">Personalizar Ahora</button>
                <button onclick="addToCart('Camisa Blanca Personalizada')">Añadir al Carrito</button>
            </div>
        </div>
        <div class="product">
            <img src="https://raw.githubusercontent.com/tevfsex/Proyecto/refs/heads/main/images%20(23)%20(29).jpeg" alt="Camisa Negra Personalizada">
            <h3>Camisa Negra Personalizada</h3>
            <p>¡Estilo único! Personaliza con tu diseño favorito.</p>
            <div class="product-buttons">
                <button onclick="window.location.href='pagina_de_personalizacion.html'">Personalizar Ahora</button>
                <button onclick="addToCart('Camisa Negra Personalizada')">Añadir al Carrito</button>
            </div>
        </div>
    </section>

    <script>
        let cartCount = 0;
        let cartItems = [];

        function toggleMenu() {
            const menu = document.getElementById("menu");
            menu.classList.toggle("active");
        }

        function addToCart(product) {
            cartCount++;
            cartItems.push(product);
            document.getElementById("cart-count").textContent = cartCount;
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
        }

        function goToCart() {
            window.location.href = "carrito.html";
        }

        // Función para cargar los productos del carrito al acceder a la página carrito.html
        window.onload = function() {
            if (window.location.pathname.includes("carrito.html")) {
                loadCartItems();
            }
        }

        function loadCartItems() {
            const savedItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const cartList = document.createElement('ul');
            
            savedItems.forEach(item => {
                const listItem = document.createElement('li');
                listItem.textContent = item;
                cartList.appendChild(listItem);
            });

            document.body.appendChild(cartList);
        }

        window.addEventListener("click", function(event) {
            const menu = document.getElementById("menu");
            const menuButton = document.querySelector(".menu-btn");
            const cartButton = document.querySelector(".cart-btn");

            if (!menu.contains(event.target) && !menuButton.contains(event.target) && !cartButton.contains(event.target)) {
                menu.classList.remove("active");
            }
        });
    </script>

</body>
</html>
